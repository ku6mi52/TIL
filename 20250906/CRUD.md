# WEB技術  

## CRUD（クラッド）とは
データを操作するときに必要な最低限の機能である「Create（生成）」「Read（読み取り）」「Update（更新）」「Delete（削除）｝の頭文字を並べた用語。  
それぞれSQLで表すと、順に「INSERT」「SELECT」「UPDATE」「DELETE」である。

### Railsの7アクション  
Railsには、CRUD概念をWebに落とした役割分担がある（以下）。  
- index（READ：一覧＋検索）
- show（READ：一件表示）
- new（CREATEの準備：フォーム表示）
- create（CREATE：作成）
- edit（UPDATEの準備：フォーム表示）
- update（UPDATE：更新）
- destroy（DELETE：削除）

### resources :テーブル名 
RESTfulな7つの道を一気に作る。
- index: GET/テーブル名 
- show: GET/テーブル名/:id 
- new: GET/テーブル名/new 
- create: POST/テーブル名 
- edit: GET/テーブル名/:id/edit 
- update: PATCH/テーブル名/:id 
- destroy: DELETE/テーブル名/:id 

Railsのルーターでは、サーバーへのリクエストをマッチさせる際にHTTP verbとURLを組み合わせる形で使っているため、4種類のURLを7種類のアクションに割り当てている。

# 補足 
## HTTP（HyperText Transfer Protocol）とは
世界共通のハイパーテキスト（コンテンツ）のやり取りの手順。ハイパーテキストの要求手順、ハイパーテキストの送信手順のほか、要求されたコンテンツを持っていなかった場合の応答方法やWebサイトが移転したことをWebブラウザに伝える方法など、ハイパーテキストのやりとりをするうえで必要となる様々な手順が定義されている。
Webブラウザ（クライアント）とWebサーバーの送受信は、HTTPというプロトコルに従って行われる。Webサイトを閲覧する一連の動作で行われる、HTTPによるクライアントとサーバーのやり取りは以下の通りである。

1. Webブラウザのアドレス欄にURLを入力、あるいはWebサイト内のリンクをクリック
2. URLやリンク情報に基づいてWebサーバーに対してデータを要求（HTTPで送受信）
3. Webブラウザより要求を受け取ったWebサーバーは要求内容を解析
4. 解析した結果より、要求されたデータをWebブラウザへと応答（HTTPで送受信）
5. WebブラウザはWebサーバーより受け取ったデータを解析し、Webページとして表示

### HTTPメソッドとは 
HTTPリクエストを用いてWebサーバーに具体的な要求内容を伝えているもの。HTTPメソッドは目的別の復数定義されている（以下）。
- HEAD：HTTPヘッダーの情報のみを取得する。データの更新日時やデータのサイズのみを取得したい場合に利用する。
- GET：HTMLファイルや画像といったデータを取得する場合に利用する。Webサイト閲覧時において使用頻度が高い。
- POST：フォームに入力したパスワードといったデータを転送する場合に利用する。
- PUT：データ（ファイル）をアップロードする場合に利用する。Webサーバー上のファイルを置き換えることができるため、利用できないように制限されている場合が多い。
- DELETE：指定したデータ（ファイル）を削除する場合に利用する。PUTメソッド同様に利用できないように制限されている場合が多い。
- CONNECT：Webサーバーに接続するまでに別のサーバーを中継する場合に利用する。CONNECTメソッドを悪用した攻撃があるため、利用を制限されている場合が多い。
- OPTIONS：利用できるHTTPメソッドを問い合わせる場合に利用する。PUTやDELETEメソッドのように利用を制限されているHTTPメソッドがあるため、事前に機能を確認する際に利用される。
- TRACE：WebブラウザとWebサーバーの経路をチェックする場合に利用する。TRACEメソッドを悪用した攻撃があるため、利用を世間されている場合が多い。  

#### データ送信における「GET」と「POST」の違い 
GETメソッドとPOSTメソッドは、フォームなどに入力したデータをWebサーバーへ送ることができるメソッドだが、送り方が異なる。  
ある会員サイトへユーザー名とパスワードを指定してログインする場合、GETは、URLの末尾に「?」をつけ、「パラメーター名＝値」の形式で送信する。一方、POSTは、情報をメッセージボディに記録して送信する。GETメソッドの場合、URLにユーザー名やパスワードが含まれるため、それらの情報がWebブラウザの履歴に残ってしまう。そのため、パスワード情報に限らずメールアドレスや住所などの個人情報をWebサーバーに送る場合は、POSTメソッドが使われる。

## 参考
小林恭平、坂本陽「Web技術の基本」p.46-47, 54-55  
<a>https://railsguides.jp/routing.html</a>
