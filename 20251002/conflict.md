# コンフリクトへの対処法

## コンフリクトとは
マージ、リベース、プルなど、ブランチを統合する際に発生しうるもの。マージの例だと、マージする2つのブランチがそれぞれ同じファイルの同じ箇所に異なる変更を加えていた場合、Gitはマージの仕方を判断することができない。そのため、人間がマージ後の正しい姿を判断し、手動でマージを行う必要がある。

## コンフリクトが発生した際の対応
ゴール：コンフリクトを解消して、ブランチをマージする  

### コンフリクトの発生例
mainブランチ：ファイル1「hoge」  
Aさん：ブランチAで、ファイル1の「hoge」を「aaa」に変更し、マージした  
Bさん：ブランチBで、ファイル1の「hoge」を「bbb」に変更し、マージしようとしたところコンフリクト発生    

`git status`で、コンフリクトの発生を確認できる。  
- both modified: マージ先とマージ元の両ブランチで変更を加えたと書かれているファイル  
- deleted by them: 使用中のブランチで編集したファイルがマージ先のブランチで削除されていた場合
- added by you: マージ元である現在使用中のブランチで編集したファイルをマージ先のブランチに加えた場合

### ファイルの編集
コンフリクトの原因となっている箇所は、<<< HEAD === >>> mainによって確認できる。===は、変更の境目である。  
これらのコンフリクトの印である記号は、解消と同時に削除する。  

### 再度コミット
編集完了後、`git add -A`でステージングエリアに追加する。このとき、`git status`でファイルの編集が確認できる。  
`git commit`でパラメータなしでコミットする。  
`git push origin ブランチB`で、リモートリポジトリにプッシュする。

### プルリクエストを確認
GitHub上で再度プルリクを確認すると、コンフリクト発生中とは異なり、自動でのマージができるようになっている。レビュー後、mainにマージすれば作業完了。  

## 参考
書籍「いちばんやさしいGit&GitHubの教本」
