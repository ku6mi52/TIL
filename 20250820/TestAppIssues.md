# TestAppIssues

## root to(route.rb)の使い方
root toは、Webアプリのトップページ（ルートパス /）にアクセスしたときに、どのコントローラー・アクションを表示するかを指定。  
route.rbは、ユーザーがアクセスするURLと、そのURLに対応する処理を結びつける（ルーティング）。  
ルーティングの定義はHTTPメソッドによって変わる。

#### ルーティングの定義方法
```
Rails.appication.routes.draw do  
  get 'posts', to: 'posts#index'
  post 'posts', to: 'posts#create'
  patch 'posts/:id', to: 'posts#update'
  delete 'posts/:id', to: 'posts#destroy'
end
```

2行目は、GETリクエストに /posts が、PostsController の index アクションに対応しているという意味。  
4行目は、PATCHリクエストに /posts/:id（:id は投稿ID）が、PostsController の update アクションに対応しているという意味。


### HTTPメソッド
- GET・・・リソースの取得を行う際に使用。  
（例）Webページを表示するために使用。  
このHTTPメソッドでのリクエストは、URLにパラメータを追加する形でデータを送信。
- POST・・・リソースの作成や更新を行う際に使用。  
（例）フォームに入力されたデータを送信する際。  
このHTTPメソッドでのリクエストは、HTTPボディにデータを含めて送信。
- PATCH・・・リソース部分の更新を行う際に使用。  
PUTメソッドと似たような使い方をされるが、PUTはリソース全体の更新ナノに対して、PATCHはリソースの一部分のみ更新。
- PUT・・・リソースの作成や更新を行う際に使用。  
POSTメソッドと似たような使い方をされる。PUTは、同じリソースに対して複数回のリクエストを送信しても、常に同じ結果が得られることが保証される。
- DELETE・・・リソースの削除を行う際に使用。    
特定のIDを指定してリソースを削除。

## view, controller, routeのそれぞれのファイルの意味
### view
#### 役割
ページの見た目を作るHTMLファイルの役割。  

#### 詳細
ブラウザとRailsのやりとりの中で、Railsからビューが返され、ページが表示される。  
rails generate controller home topを実行後、viewsフォルダの中に「homeフォルダ」と「top.html.erb」というファイルが作成される。  
viewファイルを編集して、表示内容を変更する。

#### 新規ページ作成
新しいページを追加する際は、ファイルを手動で新規作成する。

### controller
#### 役割
ページを表示するとき、ビューをブラウザに返すための経由地の役割。

#### 詳細
rails generate controller home topを実行後、controllersフォルダの中に「home_controller.rb」というファイルが作成され、ファイルの中に「topメソッド」が追加される。  
コントローラ内のメソッドを「アクション」と呼ぶ。アクションは、ブラウザに返すビューをviewsフォルダの中から見つけ出す役割。コントローラと同じ名前のビューフォルダから、アクションと同じ名前のHTMLファイルを探してブラウザに返す。

#### 新規ページ作成
新しいページを追加する際も、既存のコントローラファイルにコードを書き足してアクションを追加する。

### route
#### 役割
ブラウザとコントローラを繋ぐ役割。送信されたURLに対して「どのコントローラの、どのアクション」で処理するかを決める「対応表」。

#### 詳細
ブラウザでURLを入力すると、ルーティングがURLを見て、適切なコントローラのアクションを呼び出す。  
configフォルダの中で、routes.rbファイルが作成され、「get "URL" => "コントローラー名#アクション名"」という文法で書かれる。ブラウザから「localhost:3000/home/top」というURLが送信されたときに、homeコントローラーのtopアクションで処理される。  
ルーティングを書き換えると、トップページのURL変更可能。

#### 新規ページ作成
新しいページを追加する際も、既存のルーティングファイル二コードを書き足してアクションを追加する。


### ページが表示されるまでの流れ
ルーティング →  コントローラ の順で処理が行われ、ビューを返す。

## 参考
<a>https://qiita.com/void_takazu/items/746edef2136143343b3f</a>


